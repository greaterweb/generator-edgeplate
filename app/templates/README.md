# <%= appTitle %>
       _____ ____   ____ _____ ____  _        _  _____ _____
      | ____|  _ \ / ___| ____|  _ \| |      / \|_   _| ____|
      |  _| | | | | |  _|  _| | |_) | |     / _ \ | | |  _|
      | |___| |_| | |_| | |___|  __/| |___ / ___ \| | | |___
      |_____|____/ \____|_____|_|   |_____/_/   \_\_| |_____|
      
      ====>>>>          Another EdgePlate App        <<<<====
      ====>>>>      Generated by Version  <%= version %>      <<<<====

## Development Cycle

#### Web - Working Locally

There are three environments to work within. Local, development, and production. 

    brew install node
    brew install imagemagick
    brew install pngcrush
    brew install png2ico

Setup local development high level programs: 

	npm install -g grunt
	npm install -g yo
	npm install -g protractor
	npm install -g bower
	npm install -g cordova

Then install the application dependencies.

    npm install
    bower install

Local development environment [localhost:3000](http://localhost:3000)

    grunt server

#### Web - Deployment

Remote development environment [dev.<%= hostDomain %>](http:/dev.<%= hostDomain %>/)

	grunt build:dev
    ./deploy.sh dev 

Production environment [<%= hostDomain %>](http:/<%= hostDomain %>/)

	grunt build:www
    ./deploy.sh www

#### Debugging 
The build time and git revision are available in `index.html` as `<meta>` tags:

    <meta name="build">
    <meta name="revision">
    <meta name="environment">

#### IE Development

##### Virtual Box

To test on Windows through Virtualbox, find the IP address of the host OS (your Mac’s local network IP), and use that as the address in IE. E.g. `http://192.168.1.1:3000` Without the `http://` IE does a web search. 

##### Trailing Commas

Jshint won’t check for this `[1,2,3,]` but older versions of IE will die on this. So look out!

#### Web - Remote Debugging

Environments live within `/www/<%= _.slugify(appTitle) %>/{dev|www}`. The following command is built into `deploy.sh` and `remote.sh` but can be called manually on the remote host. 

    ~/node-ctrl.sh /www/<%= _.slugify(appTitle) %>/{dev|www}/app.js {port} {start|stop|restart}

If you start a service with `node-ctrl.sh app.js 8000 start` the Express dev log will be in `/var/tmp/app.js-8000.out`. The log file is continually appended. 

Remotely hosted Express servers are proxied through Apache, so Apache handles their official *combined* format (a.k.a *extended*) logs.


##### Starting and Stopping Express Manually
To start and stop a node service (express) manually use `remote.sh`:

    ./remote.sh {dev|www} {start|stop}

##### Tail
Either type of log file can be `tail`'d remotely. 

    ./tail-log.sh {dev|www} {apache|express}

The `node-ctrl.sh` script has a bash loop that continues to run the node script in case it crashes. If `node-ctrl.sh` is running but the target express server is unavailable, check the log file for the node error that is preventing the service from running. 

##### Top
When using `top` to debug node processes some helpful hints:

* Type `z` to turn on colors
* Type `u` then "unixuser" to filter just that user
* Type `c` to show full command strings
* Type `f` to toggle which fields are present
* Type `F` then `X` to sort by process name
      
## File Structure

- `dist/` distributed version of project, built by `grunt build`
- `app/`
    - `public/` front end assets
    	- `locales/` text translations
        - `bower_lib/` front end dependencies managed through Bower
        - `components/` front end component assets grouped by directory which includes all js, scss and images
        - `controllers/` angularjs controller assets grouped by directory which includes all js, scss and images
            - `pages/` front end page controller assets grouped by directory which includes all jade, js, scss and images
        - `directives/` angularjs directive assets grouped by directory which includes all js, scss and images
        - `images/` shared front end image assets
        - `layout/` Jade templates used for the main page layout
        - `scripts/` project javascript files
            - `filters/` angularjs filter assets
            - `services/` angularjs service assets
            - `app.js` main angularjs project declarations
            - `helper.js` global helper functions and feature poloyfils
        - `styles/` project stylesheets, both SASS and CSS
            - `fonts/` custom fonts used with stylesheets
            - `_mixins.scss` project SASS mixins
            - `_styles.scss` global/shared project styles
            - `_variables.scss` project SASS variables
            - `app.scss` SASS file used to include all project stylesheets
        - `index.jade` project index file
    - `services/` Node.js scripts and services used by the front end
    - `views/` views for robots.txt and server side jade
    - `app.js` Node file containing project specific express configuration
    - `routes.js` Node file containing project specific routes
- `.tmp/` directory dedicated to temporary storage of development assets, contents not included in repository
- `package.json` Node dependencies
- `bower.json` Bower dependencies - see `app/public/bower_lib`
- `.bowerrc` Bower configuration - see `app/public/bower_lib`
- `.jshintrc` JS Hint configuration
- `Gruntfile.js` Automates tasks for working locally and deploying. 
- `deploy.sh` Script to upload project to the remote host and restart the service. See **Deployment** section. 
- `.excludes` *deploy.sh* will ignore these files when rsync'ing to the remote host.
- `node-ctrl.sh` *deploy.sh* calles this script that runs on a Linux remote host which starts and stops node servers.
- `remote.sh` Tool to start and stop an express server manually and remotely.


## Coding Style

An EditorConfig file is provided to help maintain consistency of basic coding styles by all contributors. If your editor does not support `.editorconfig` files, please review the file and adjust your editor configuration manually.

## Code Annotations

Throughout the source code various code annotations are provided which identify TODO, BUG and NOTE items. These are typically included in code comment blocks for the contributors to review. Code Annotations should not span more than one line.

### TODO Items

TODOs are actionable work items and which identify missing or partially implemented work which requires completion.

__TODO Example__

    TODO: Add service call to Dropbox API`

### BUG Items

BUGs identify know bugs in the code base. A Git Issue may be created and referenced in the BUG declaration if required.

__BUG Example__

    BUG: Form validation broken, see Git Issue #123

### NOTE Items

NOTEs are brief messages within the source code to assist other contributors in understanding specific code or code usage. NOTEs may serve to compliment documentation and DocBlocks but should not replace them.

__NOTE Example__

    NOTE: Modules should only be included in module containers
