extends layout/_global

append head
  - var title = "Loading&hellip;"
  title(ng-bind-html="app.edgePage.title || '#{title}'") !{title}
  // build:css styles/app.css
  link(rel="stylesheet", href="styles/app.css")
  // endbuild

  script.
    var ENV = '#{ENV}';
    var VERSION = '#{VERSION}';

  if LOCAL
    script.
      document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js"></' + 'script>');
    script.
      var LOCAL = true,
          SERVER = '#{SERVER}',
          PROJECT = '#{PROJECT}';

append footer-scripts
  //- socket.io
  //- script(src="/socket.io/socket.io.js")

  // build:js(app/public/) scripts/lib.js
  //- underscore js
  script(src="bower_lib/underscore/underscore.js")

  //- jquery and jquery plugins
  script(src="bower_lib/jquery/jquery.js")

  //- bootstrap dependencies
  //- options: affix, alert, button, carousel, collapse, dropdown, modal, popover, scrollspy, tab, tooltip, transition
  //- each src in ['affix', 'alert', 'button', 'carousel', 'collapse', 'dropdown', 'modal', 'popover', 'scrollspy', 'tab', 'tooltip', 'transition']
    script(src="bower_lib/bootstrap-sass/vendor/assets/javascripts/bootstrap/#{src}.js")
  
  //- angular core and app dependencies
  //- options: angular, angular-animate, angular-cookies, angular-mocks, angular-resource, angular-route, angular-sanitize, angular-touch
  each src in ['angular', 'angular-animate', 'angular-resource', 'angular-route', 'angular-sanitize']
    script(src="bower_lib/#{src}/#{src}.js")

  //- gloal helpers
  script(src="scripts/helper.js")

  // endbuild

  // build:js(.tmp/) scripts/app.js
  //- everything beyond this point is assumed to be angular related
      and will run through the ngmin task putting it in the temp
      directory during the build process

  //- main app
  script(src="scripts/app.js")

  //- application components

  //- angular services
  script(src="scripts/services/edgePage.js")

  //- angular directives

  //- angular filters

  //- angular controllers
  script(src="controllers/App/AppController.js")

  //- page controllers
  script(src="controllers/pages/Index/IndexController.js")

  // endbuild
